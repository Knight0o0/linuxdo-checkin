name: GitHub Workflow Immortality

on:
  schedule:
    - cron: '20 0 1 * *'          # 1st of month 00:20 UTC
  workflow_dispatch:

jobs:
  keepalive:
    name: Keep scheduled workflows alive
    runs-on: ubuntu-latest
    permissions: {}               # minimal permissions â€“ good practice

    steps:
      - name: Prevent scheduled workflows from being disabled
        uses: PhrozenByte/gh-workflow-immortality@v1
        with:
          secret: ${{ secrets.ACTIONS_TRIGGER_PAT }}
          repos: ${{ github.repository }}     # or list multiple: user/repo1,user/repo2
          # Optional: only touch workflows with "schedule" in name
          # workflow_filter: ".*(daily|checkin|cron|schedule).*"
